<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact</title>
  <link rel="stylesheet" href="contact.css">
</head>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("suggestForm");
  const summary = document.getElementById("summary");
  const wordCount = document.getElementById("wordCount");
  const wordMeter = document.getElementById("wordMeter");
  const progressEl = document.getElementById("progress");
  const MAX_WORDS = 50;

  if (!form) return; // tránh lỗi nếu form chưa có

  function countWords(text) {
    return text.trim().split(/\s+/).filter(Boolean).length;
  }

  function updateStatus() {
    // cập nhật word count
    const words = countWords(summary.value);
    wordCount.value = words;
    wordMeter.value = Math.min(words, MAX_WORDS);

    // cập nhật progress
    const requiredFields = Array.from(form.querySelectorAll("[required]"));
    let filled = 0;

    requiredFields.forEach((el) => {
      if (el.type === "checkbox" || el.type === "radio") {
        const group = form.querySelectorAll(`[name='${el.name}']`);
        if ([...group].some((i) => i.checked)) filled++;
      } else if (el.value && el.value.trim() !== "") {
        filled++;
      }
    });

    const percent = Math.round((filled / requiredFields.length) * 100);
    progressEl.value = percent;
  }

  // Cập nhật khi người dùng nhập
  form.addEventListener("input", updateStatus);
  summary.addEventListener("input", updateStatus);

  // Xử lý khi submit
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    // kiểm tra form hợp lệ
    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    alert("✅ Thank you for your suggestion!\nWe appreciate your feedback ❤️");
    form.reset();
    updateStatus(); // reset progress và meter sau khi gửi
  });

  // Gọi lần đầu để khởi tạo thanh progress
  updateStatus();
});
</script>

<body>

  <!-- HEADER -->
<header>
  <div class="logo">
    <a href="index.html">Raccoon's Gaming</a>
  </div>
  <nav>
    <ul>
      <li><a href="index.html">HOME</a></li>
      <li><a href="about.html">ABOUT</a></li>
      <li><a href="gallery.html">GALLERY</a></li>
      <li><a href="blog.html">BLOG</a></li>
      <li><a href="download.html">DOWNLOAD</a></li>
      <li><a href="contact.html" class="active">CONTACT</a></li>
      <li><a href="policy.html">POLICY</a></li>
    </ul>
  </nav>
 
</header>

  <!-- HERO / BANNER -->
  <section class="about-hero">
    <img src="Picture/Banner.jpg" alt="Banner Image">
  </section>

  <!-- MAIN CONTENT -->
  <section class="about-content">
  <div class="about-left">
    <div class="about-text">
      <h2>About me</h2>
      <p>I do nothing. I sleep all day and night. And when I'm not sleeping, i eat and play videogames</p>
      <a href="https://github.com/RaccoonJago/RaccoonsGaming.github.io" class="custom-logo-link" target="_blank">
    <img src="Picture/github.png" alt="GitHub Logo">
  </a>
  <a href="mailto:ITITWE21040@student.hcmiu.edu.vn" class="custom-logo-link">
    <img src="Picture/mail.png" alt="Mail Logo">
  </a>
    </div>
    <div class="about-image">
      <img src="Picture/2.jpg" alt="Side Portrait Image">
    </div>
    
  </div>

  <div class="about-right">
    <h2>What do i do</h2>
    <div class="comment-box"><p>I sleep</p></div>
    <div class="comment-box"><p>I eat</p></div>
    <div class="comment-box"><p>I play</p></div>
  </div>
</section>

  <!-- FORM SECTION -->
  <section class="about-form">
  <h2>Don't see the game you like? Fill out this form:</h2>
  
  <form id="suggestForm" class="suggest-form" novalidate>
    <fieldset>
      <legend>Your Suggestion</legend>

      <!-- Name -->
      <div class="form-row">
        <label for="name">Name <span class="required">*</span></label>
        <input id="name" name="name" type="text" required minlength="2" maxlength="50" placeholder="Your name">
      </div>

      <!-- Tel + Email -->
      <div class="form-row two-cols">
        <div>
          <label for="tel">Tel <span class="required">*</span></label>
          <input id="tel" name="tel" type="tel" required pattern="^\+?[0-9\s\-]{7,15}$" placeholder="+84 123 456 789">
        </div>
        <div>
          <label for="email">Email <span class="required">*</span></label>
          <input id="email" name="email" type="email" required placeholder="you@example.com">
        </div>
      </div>

      <!-- Checkboxes -->
      <div class="form-row">
        <span>I’d like to see more:</span>
        <div class="checkbox-group">
          <label><input type="radio" name="type[]" value="blog"> Blog updates</label>
          <label><input type="radio" name="type[]" value="gallery"> Game gallery photos</label>
          <label><input type="radio" name="type[]" value="download"> Download links</label>
          <label><input type="radio" name="type[]" value="other"> Other</label>
        </div>
      </div>

      <!-- Heading -->
      <div class="form-row">
        <label for="heading">Heading (title) <span class="required">*</span></label>
        <input id="heading" name="heading" type="text" required maxlength="80" placeholder="Short title">
      </div>

      <!-- Text -->
      <div class="form-row">
        <label for="summary">Message (max 50 words) <span class="required">*</span></label>
        <textarea id="summary" name="summary" rows="4" required placeholder="Write your message"></textarea>
        <div class="meta-row">
          <output id="wordCount">0</output> / 50 words
          <meter id="wordMeter" min="0" max="50" value="0"></meter>
        </div>
      </div>

      <!-- Select -->
      <div class="form-row">
        <label for="platform">Favorite Platform</label>
        <select id="platform" name="platform">
          <optgroup label="Console">
            <option value="switch">Nintendo Switch</option>
            <option value="ps5">PlayStation 5</option>
            <option value="xbox">Xbox</option>
          </optgroup>
          <optgroup label="PC">
            <option value="steam">Steam</option>
            <option value="epic">Epic Games</option>
          </optgroup>
        </select>
      </div>

      <!-- Range, Date, Color -->
      <div class="form-row three-cols">
        <div>
          <label for="rating">Excitement (0–10)</label>
          <input id="rating" name="rating" type="range" min="0" max="10" step="1" value="5">
        </div>
        <div>
          <label for="date">When did you start playing?</label>
          <input id="date" name="date" type="date">
        </div>
        <div>
          <label for="color">Favorite color</label>
          <input id="color" name="color" type="color" value="#ff6600">
        </div>
      </div>

      <!-- File -->
      <div class="form-row">
        <label for="file">Attach a game screenshot</label>
        <input id="file" name="file" type="file" accept="image/*">
      </div>

      <!-- Hidden -->
      <input type="hidden" name="source" value="contact-form">

      <!-- Progress -->
      <div class="form-row">
        <label for="progress">Form completion</label>
        <progress id="progress" max="100" value="0"></progress>
      </div>

      <!-- Buttons -->
      <div class="form-actions">
        <button type="reset">Reset</button>
        <button type="submit">Submit</button>
      </div>
    </fieldset>
  </form>
</section>

  <!-- FOOTER -->
  <footer>
    <p>© 2025 Raccoon's Gaming | <a href="policy.html">Privacy Policy</a> | <a href="contact.html">Contact Me</a></p>
  </footer>
  
</body>
</html>
